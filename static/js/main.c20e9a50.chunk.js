(this["webpackJsonpcode-names"]=this["webpackJsonpcode-names"]||[]).push([[0],{16:function(e,t,r){},17:function(e,t,r){},19:function(e,t,r){},21:function(e,t,r){},23:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),s=r(9),c=r.n(s),i=(r(16),r(11)),o=r(10),u=r(3),l=r(4),d=r(6),h=r(5),m=(r(17),r(0)),p=function(e){Object(d.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(l.a)(r,[{key:"render",value:function(){var e=this;return Object(m.jsx)("div",{className:this.formatClass(),onClick:function(){e.props.onWordClick(e.props.word)},children:this.props.word.title.toUpperCase()})}},{key:"formatClass",value:function(){var e="word ",t=this.props.word,r=t.colour,a=t.status;if(e+=r+" ",e+=this.props.user+" ",e+=a+" ",e+="game-started"===this.props.gameState&&"hidden-word"===a?"":" game-over")return e}}]),r}(a.Component),b=(r(19),r(20),function(e){Object(d.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).showWinner=function(e,t,r,a){if("black-word-clicked"===a){if("blue"===r)return Object(m.jsx)("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert",children:"Red Wins!"});if("red"===r)return Object(m.jsx)("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert",children:"Blue Wins!"})}return 0===e?Object(m.jsx)("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert",children:"Blue Wins!"}):0===t?Object(m.jsx)("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert",children:"Red Wins!"}):void 0},e}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props.words.filter((function(e){return"blue"===e.colour&&"hidden-word"===e.status})).length,t=this.props.words.filter((function(e){return"red"===e.colour&&"hidden-word"===e.status})).length;return Object(m.jsxs)("div",{className:"counter-container",children:[Object(m.jsxs)("div",{className:"counter",children:[Object(m.jsxs)("div",{className:"scores",children:[Object(m.jsx)("span",{className:"redText",children:t}),"-",Object(m.jsx)("span",{className:"blueText",children:e})]}),Object(m.jsx)("button",{className:"counter-reset-button",onClick:this.props.changeTeam,children:"End "+this.props.currentTeam.toUpperCase()+"'s Turn"})]}),Object(m.jsxs)("div",{className:"display-winner",children:[Object(m.jsx)("div",{className:"counter-teamName",children:this.props.currentTeam.toUpperCase()+"'s Turn"}),this.showWinner(e,t,this.props.currentTeam,this.props.gameState)]})]})}}]),r}(a.Component)),f=(r(21),r(2)),j=r.n(f),w=r(7);function v(){return(v=Object(w.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/DemoMVC/board");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return g.apply(this,arguments)}function g(){return(g=Object(w.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/DemoMVC/newGame");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t,r){return y.apply(this,arguments)}function y(){return(y=Object(w.a)(j.a.mark((function e(t,r,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/DemoMVC/words/"+r+"/"+a+"/"+t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=function(e){Object(d.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={words:[],currentTeam:"",gameState:"",user:"player"},e.handleWordClick=function(t){if("spymaster"!==e.state.user){var r=e.state.gameState,a=e.state.gameState,n=e.state.currentTeam,s=Object(o.a)(e.state.words),c=s.indexOf(t);s[c]=Object(i.a)({},t),s[c].status="revealed";var u=s.filter((function(e){return"blue"===e.colour&&"hidden-word"===e.status})).length,l=s.filter((function(e){return"red"===e.colour&&"hidden-word"===e.status})).length;"black"===t.colour&&(a="black-word-clicked"),0!==u&&0!==l||(a="player-win"),"red"===t.colour&&(n="red"),"blue"===t.colour&&(n="blue"),e.setState({words:s,gameState:a,currentTeam:n}),"game-started"!==r&&"black"!==t.colour||x(c,a,n)}},e.setUserAsPlayer=function(){e.setState({user:"player"})},e.setUserAsSpymaster=function(t){e.setState({user:"spymaster"})},e.changeCurrentTeam=function(){var t=e.state.currentTeam;"red"===t?t="blue":"blue"===t&&(t="red"),e.setState({currentTeam:t})},e.startNewGame=function(){O(e.state.gameState).then((function(t){e.setState({words:t.words,currentTeam:t.currentTeam,gameState:t.gameState})}))},e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=this;(function(){return v.apply(this,arguments)})(this.state.gameState).then((function(t){e.setState({words:t.words,currentTeam:t.currentTeam,gameState:t.gameState})}))}},{key:"shouldComponentUpdate",value:function(e,t){return"game-started"===t.gameState||this.state.user!==t.user||"black-word-clicked"!==this.state.gameState&&"player-win"!==this.state.gameState}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"board",children:[Object(m.jsx)(b,{words:this.state.words,currentTeam:this.state.currentTeam,gameState:this.state.gameState,changeTeam:this.changeCurrentTeam}),Object(m.jsx)("div",{className:"main-grid",children:this.state.words.map((function(t){return Object(m.jsx)(p,{word:t,user:e.state.user,gameState:e.state.gameState,onWordClick:e.handleWordClick},t.title)}))}),Object(m.jsxs)("div",{className:"action-container",children:[Object(m.jsx)("button",{className:"player"===this.state.user?"enable-button":"disbale-button",onClick:this.setUserAsPlayer,children:"Player"}),Object(m.jsx)("button",{className:"spymaster"===this.state.user?"enable-button":"disbale-button",onClick:this.setUserAsSpymaster,children:"Spymaster"}),Object(m.jsx)("button",{onClick:this.startNewGame,children:"Start New Game"})]})]})}}]),r}(a.Component);c.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(S,{})}),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.c20e9a50.chunk.js.map